<main>
    <div class="container under-header">
        <div class="row">
            <div class="col s12">
                <h1>{{request.booking.title}}</h1>
            </div>
        </div>
        <div class="row">
            <div class="col s12">
                <div ng-show="request.booking.hostapprovedbookingdates.length">
                    <h5>Pick your date:</h5>
                    <div ng-hide="request.propose_date && request.booking.hostapprovedbookingdates.length" class="browser-default">
                        <select ng-model="request.requestdata.selectedDate" id="dateselect">
                            <option ng-repeat="date in request.booking.hostapprovedbookingdates" value="{{ date.id }}">
                                {{request.convertToDate(date.date) | date: "dd/MM/yyyy"}} at {{request.convertToDate(date.date) | date: "HH:mm"}}
                            </option>
                        </select>
                        <a href="" ng-click="request.propose_date = true; request.initDatePickers()">Request another date and/or time</a>
                    </div>
                    <div ng-show="request.propose_date">
                        <input ng-model="request.requestdata.proposed_date" type="text" placeholder="Date" class="datepicker col s6">
                        <input ng-model="request.requestdata.proposed_time" type="text" placeholder="Time" class="timepicker col s6">
                        <a href="" ng-click="request.propose_date = false">Choose from available dates</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col s12">
                <h5>Something else you'd like to ask?</h5>
                <textarea class="materialize-textarea" placeholder="Ask away!" ng-model="request.requestdata.message"></textarea>
            </div>
        </div>
        <div class="row">
            <div class="col 12">
                <a ng-click="request.sendRequest()" ng-hide="request.buttonDisabled" class="btn">Confirm request</a>
            </div>
        </div>
    </div>
</main>