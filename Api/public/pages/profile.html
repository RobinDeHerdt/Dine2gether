<main>
	<div class="container under-header profile">
		<h1>Profile</h1>
		<div class="row">
	  <div class="col s12 m6">
		<div class="card">
		  <div class="card-content">
		   <span class="card-title">Profile picture</span>
		 </div>
		 <div class="card-image">
		  <img ng-src="{{profile.user.image}}">
		</div>
		<div class="card-action">
		  <div class="file-field input-field ">
			<div class="btn">
			  <span>Upload</span>
			  <input ngf-select="profile.uploadProfilePicture($file)" accept="image/*" ngf-max-size="2MB" type="file" multiple>
			</div>
			<div class="file-path-wrapper">
			  <input class="file-path validate" type="text" placeholder="Upload" required ng-model="profile.path">
			</div>
		  </div>
		</div>
	  </div>
	</div>
	<div class="col s12 m6">
	  <div class="card">
		<div class="card-content black-text">
		  <span class="card-title">Personal info</span>
		  <input type="text" ng-model="profile.user.first_name" placeholder="First name">
		  <input type="text" ng-model="profile.user.last_name" placeholder="Last name">
		  <input type="text" ng-model="profile.user.email" placeholder="Email">
		</div>
	  </div>
	</div>
	<div class="col s12 m6">
	 <div class="card">
	  <div class="card-content black-text">
		<span class="card-title">Address</span>    
		<input type="text" ng-model="profile.user.street_number" placeholder="Street + number">
		<input type="text" ng-model="profile.user.postalcode" placeholder="Postalcode">
		<input type="text" ng-model="profile.user.city" placeholder="City">
	  </div>        
	</div>
  </div>
</div>
<div class="row">
  <div class="col s4 m4">
	<a class="waves-effect waves-light btn right-align" ng-click="profile.saveProfile()">Save changes</a>
  </div>
  <div class="col s8 m8" ng-show="profile.showerrormessage">
  	<strong>Oops! Something went wrong.</strong>
  </div>
</div>
<div ng-if="profile.hostrequests" class="row">
  <div class="col s12 m12">
	<div class="card">
	  <div class="card-content black-text">
		<span class="card-title">My hostrequests</span>
		<div ng-repeat="hostrequest in profile.hostrequests">
		  <ul class="collection">
			<li class="collection-item">
			  <span class="title">Request by:<a href="/#/user/{{hostrequest.user.id}}/reviews"><strong>{{hostrequest.user.first_name + " " + hostrequest.user.last_name}}</strong></a></span>
			  <p>Booking: {{ hostrequest.booking.title}}</p>
			  <p>Date and time: {{ hostrequest.date }} at {{hostrequest.time}}</p>
			  <p>Guests: {{ hostrequest.number_of_guests}}</p>
			  <a href="" class="secondary-content btn-flat mar-right-m mar-btm-m" ng-click="profile.declineRequest(hostrequest.id)"><i class="material-icons right">delete</i>Decline</a>
			  <a href="" class="secondary-content btn-flat mar-right-m mar-btm-m" ng-click="profile.acceptRequest(hostrequest.id)"><i class="material-icons right">done</i>Accept</a>
			</li>
		  </ul>    
		</div>        
	  </div>
	</div>
  </div>
</div>
<div class="row">
  <div class="col s12 m12">
	<div class="card">
	  <div class="card-content black-text">
		<span class="card-title">My active bookings as a host</span>
		<p ng-if="profile.hostbookings.length < 1">No bookings yet as a host.</p>
		<div ng-repeat="booking in profile.hostbookings">
		  <ul class="collection">
			<li class="collection-item">
			  <span class="title"><a href="/#/booking/{{booking.id}}/details"><strong>{{booking.title}}</strong></a></span>
			  <p>{{ booking.postalcode + " " + booking.city}}</p>
			  <p>{{ booking.street_number}}</p>
			  <p>{{ booking.max_guests + " people | €" + booking.price + "/person"}}</p>
			  <a href="" class="secondary-content" ng-click="profile.deleteBooking(booking.id)"><i class="material-icons">delete_forever</i></a>
			</li>
		  </ul>    
		</div>        
	  </div>
	</div>
  </div>
</div>
<div class="row">
  <div class="col s12 m12">
	<div class="card">
	  <div class="card-content black-text">
		<span class="card-title">My active bookings as a guest</span>
		<p ng-if="profile.guestbookings.length < 1">No bookings yet as a guest.</p>
		<div ng-repeat="booking in profile.guestbookings">
		  <ul class="collection">
			<li class="collection-item">
			  <span class="title"><a href="/#/booking/{{booking.id}}/details"><strong>{{booking.title}}</strong></a></span>
			  <p>{{ booking.postalcode + " " + booking.city}}</p>
			  <p>{{ booking.street_number}}</p>
			  <p>{{ booking.max_guests + " people | €" + booking.price + "/person"}}</p>
			  <a href="" class="secondary-content" ng-click="profile.detachFromBooking(booking.id)"><i class="material-icons">delete_forever</i></a>
			</li>
		  </ul>    
		</div>        
	  </div>
	</div>
  </div>
</div>

</main>